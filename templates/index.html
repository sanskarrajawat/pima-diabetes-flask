<!DOCTYPE html>
<html>
<head>
    <title>Diabetes Prediction</title>
    <style>
        body{font-family:Arial; margin:40px;}
        input{padding:6px; margin:4px;}
        button{padding:8px 16px; margin-top:10px;}
    </style>
</head>

<body>

<h2>Diabetes Prediction Form</h2>

<form id="predictForm">

Pregnancies: <input type="number" name="Pregnancies" min="0" max="20" required><br><br>
Glucose: <input type="number" name="Glucose" min="50" max="300" required><br><br>
BloodPressure: <input type="number" name="BloodPressure" min="30" max="200" required><br><br>
SkinThickness: <input type="number" name="SkinThickness" min="0" max="100" required><br><br>
Insulin: <input type="number" name="Insulin" min="0" max="900" required><br><br>
BMI: <input type="number" name="BMI" min="10" max="70" step="0.1" required><br><br>
DiabetesPedigreeFunction: <input type="number" step="0.01" min="0" max="3" name="DiabetesPedigreeFunction" required><br><br>
Age: <input type="number" name="Age" min="1" max="120" required><br><br>

<button type="submit">Predict</button>

</form>

<h3 id="result"></h3>

<script>
document.getElementById("predictForm").onsubmit = async function(e){
    e.preventDefault();

    let formData = new FormData(this);
    let data = Object.fromEntries(formData.entries());

    for (let k in data) data[k] = Number(data[k]);

    let res = await fetch("/predict", {
        method:"POST",
        headers:{"Content-Type":"application/json"},
        body:JSON.stringify(data)
    });

    let r = await res.json();

    if(r.error){
        result.innerHTML = "❌ " + r.error;
        return;
    }

    if(r.prediction==1)
        result.innerHTML = "⚠️ High Risk ("+r.probability+"%)";
    else
        result.innerHTML = "✅ Low Risk ("+r.probability+"%)";
}
</script>

</body>
</html>